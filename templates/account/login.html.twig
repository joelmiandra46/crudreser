{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block css %}
<style>
    .mdp{
        position:relative;
    }
    span{
        position: absolute;
        right:15px;
        transform: translate(0,-50%);
        top: 50%;
        cursor:pointer;
    }
    #eye{
        font-size: 15px;
        color: #7a797e;
    }
</style>
{% endblock %}

{% block body %}

<div class="container">
    <div class="row">
        <div class="col-md-3">&nbsp;</div>
        <div class="col-md-6 mt-4 border border-primary mt-4 pb-4 rounded-3">
            <div class="bg-light py-3 px-3">
                <h1>Connectez-vous</h1>

                {% if hasError %}
                    <div class="alert alert-danger">Une erreur est survenue, le nom d'utilisateur ou alors le mot de passe est invalide.</div>
                {% endif %}

                <form class="needs-validation" action="{{ path('account_login') }}" method='post'>
                    <div class="form-group mt-3">
                        <label for="email">Email</label>
                        <input type="text" name="_username" id="email" class="form-control" placeholder="Adresse email..." required value="{{ username }}">
                    </div>
                    <div class="form-group mt-3">
                        <label for="password">Mot de passe</label>
                        <div class="mdp">
                        <input type="password" name="_password" id="password" placeholder="Mot de pase ..." class="form-control" required>
                        <span id="span"> <i class="fas fa-eye" aria-hidden="true" id="eye" onclick="toggle()"></i> </span>
                        </div>
                    </div>
                    <div class="form-group mt-3">
                        <button type="submit" class="btn btn-success">Connexion</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    var state = false;
    //cette fonction sert a afficher un mot passe (password en texte)
    function toggle(){
        if(state){
            document.getElementById("password").setAttribute("type","password");
            document.getElementById("eye").style.color='#7a797e';
            state = false;
        }else{
            document.getElementById("password").setAttribute("type","text");
            document.getElementById("eye").style.color='#5887ef';
            state = true;
        }
    }
</script>
{% endblock %}
